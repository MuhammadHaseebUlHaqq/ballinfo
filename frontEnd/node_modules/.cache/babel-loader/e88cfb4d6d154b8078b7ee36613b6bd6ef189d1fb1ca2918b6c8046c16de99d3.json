{"ast":null,"code":"var _jsxFileName = \"E:\\\\Muqtasid BS Computer Science\\\\SPRING-25\\\\Project\\\\ballinfo\\\\frontend\\\\src\\\\components\\\\news\\\\RelatedNews.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { formatDistanceToNow } from 'date-fns';\nimport { getRelatedNews } from '../../services/newsService';\nimport '../../styles/news/RelatedNews.css';\n\n/**\r\n * RelatedNewsItem component - Renders a single related news item with image loading\r\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst RelatedNewsItem = ({\n  article\n}) => {\n  _s();\n  const [imageLoaded, setImageLoaded] = useState(false);\n  const [imageError, setImageError] = useState(false);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"related-news-item\",\n    children: /*#__PURE__*/_jsxDEV(Link, {\n      to: `/news/article/${article._id}`,\n      className: \"related-news-link\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"related-news-image\",\n        children: article.imageUrl && !imageError ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [!imageLoaded && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"related-news-image-loading-container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"related-news-image-loading\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 22,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 21,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: article.imageUrl,\n            alt: article.title,\n            loading: \"lazy\",\n            onLoad: () => setImageLoaded(true),\n            onError: () => setImageError(true),\n            style: {\n              opacity: imageLoaded ? 1 : 0\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"related-news-placeholder\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"La Liga\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"related-news-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"related-news-article-title\",\n          children: article.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"related-news-meta\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"related-news-date\",\n            children: formatDistanceToNow(new Date(article.publishedAt), {\n              addSuffix: true\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this)\n  }, article._id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }, this);\n};\n\n/**\r\n * RelatedNews component - Displays related news articles\r\n * @param {Object} props - Component props\r\n * @param {string} props.articleId - Current article ID\r\n * @param {Array} props.tags - Tags from the current article\r\n * @param {string} props.category - Category of the current article\r\n */\n_s(RelatedNewsItem, \"+xC0VhkjkKdKpElgCoBFbVEZSxs=\");\n_c = RelatedNewsItem;\nconst RelatedNews = ({\n  articleId,\n  tags,\n  category\n}) => {\n  _s2();\n  const [relatedArticles, setRelatedArticles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchRelatedNews = async () => {\n      if (!articleId || !(tags !== null && tags !== void 0 && tags.length) && !category) {\n        setLoading(false);\n        return;\n      }\n      setLoading(true);\n      try {\n        // Get related news by tags and category, exclude current article\n        const response = await getRelatedNews(articleId, tags, category);\n        if (response.success) {\n          setRelatedArticles(response.data);\n        }\n      } catch (err) {\n        console.error('Error fetching related news:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchRelatedNews();\n  }, [articleId, tags, category]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"related-news-loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 12\n    }, this);\n  }\n  if (relatedArticles.length === 0) {\n    return null; // Don't display if no related articles\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"related-news\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"related-news-title\",\n      children: \"Related Articles\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"related-news-grid\",\n      children: relatedArticles.map(article => /*#__PURE__*/_jsxDEV(RelatedNewsItem, {\n        article: article\n      }, article._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n};\n_s2(RelatedNews, \"aN6DlszM7B2unQBDT3UgXel/VEg=\");\n_c2 = RelatedNews;\nexport default RelatedNews;\nvar _c, _c2;\n$RefreshReg$(_c, \"RelatedNewsItem\");\n$RefreshReg$(_c2, \"RelatedNews\");","map":{"version":3,"names":["React","useState","useEffect","Link","formatDistanceToNow","getRelatedNews","jsxDEV","_jsxDEV","Fragment","_Fragment","RelatedNewsItem","article","_s","imageLoaded","setImageLoaded","imageError","setImageError","className","children","to","_id","imageUrl","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","title","loading","onLoad","onError","style","opacity","Date","publishedAt","addSuffix","_c","RelatedNews","articleId","tags","category","_s2","relatedArticles","setRelatedArticles","setLoading","fetchRelatedNews","length","response","success","data","err","console","error","map","_c2","$RefreshReg$"],"sources":["E:/Muqtasid BS Computer Science/SPRING-25/Project/ballinfo/frontend/src/components/news/RelatedNews.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport { getRelatedNews } from '../../services/newsService';\r\nimport '../../styles/news/RelatedNews.css';\r\n\r\n/**\r\n * RelatedNewsItem component - Renders a single related news item with image loading\r\n */\r\nconst RelatedNewsItem = ({ article }) => {\r\n  const [imageLoaded, setImageLoaded] = useState(false);\r\n  const [imageError, setImageError] = useState(false);\r\n  \r\n  return (\r\n    <div key={article._id} className=\"related-news-item\">\r\n      <Link to={`/news/article/${article._id}`} className=\"related-news-link\">\r\n        <div className=\"related-news-image\">\r\n          {article.imageUrl && !imageError ? (\r\n            <>\r\n              {!imageLoaded && (\r\n                <div className=\"related-news-image-loading-container\">\r\n                  <div className=\"related-news-image-loading\"></div>\r\n                </div>\r\n              )}\r\n              <img \r\n                src={article.imageUrl} \r\n                alt={article.title}\r\n                loading=\"lazy\"\r\n                onLoad={() => setImageLoaded(true)}\r\n                onError={() => setImageError(true)}\r\n                style={{ opacity: imageLoaded ? 1 : 0 }}\r\n              />\r\n            </>\r\n          ) : (\r\n            <div className=\"related-news-placeholder\">\r\n              <span>La Liga</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        <div className=\"related-news-content\">\r\n          <h4 className=\"related-news-article-title\">{article.title}</h4>\r\n          \r\n          <div className=\"related-news-meta\">\r\n            <span className=\"related-news-date\">\r\n              {formatDistanceToNow(new Date(article.publishedAt), { addSuffix: true })}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * RelatedNews component - Displays related news articles\r\n * @param {Object} props - Component props\r\n * @param {string} props.articleId - Current article ID\r\n * @param {Array} props.tags - Tags from the current article\r\n * @param {string} props.category - Category of the current article\r\n */\r\nconst RelatedNews = ({ articleId, tags, category }) => {\r\n  const [relatedArticles, setRelatedArticles] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  \r\n  useEffect(() => {\r\n    const fetchRelatedNews = async () => {\r\n      if (!articleId || (!tags?.length && !category)) {\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      \r\n      setLoading(true);\r\n      \r\n      try {\r\n        // Get related news by tags and category, exclude current article\r\n        const response = await getRelatedNews(articleId, tags, category);\r\n        \r\n        if (response.success) {\r\n          setRelatedArticles(response.data);\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching related news:', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchRelatedNews();\r\n  }, [articleId, tags, category]);\r\n  \r\n  if (loading) {\r\n    return <div className=\"related-news-loading\"></div>;\r\n  }\r\n  \r\n  if (relatedArticles.length === 0) {\r\n    return null; // Don't display if no related articles\r\n  }\r\n  \r\n  return (\r\n    <div className=\"related-news\">\r\n      <h3 className=\"related-news-title\">Related Articles</h3>\r\n      \r\n      <div className=\"related-news-grid\">\r\n        {relatedArticles.map(article => (\r\n          <RelatedNewsItem key={article._id} article={article} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RelatedNews; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}