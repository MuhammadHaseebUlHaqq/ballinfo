{"ast":null,"code":"var _jsxFileName = \"E:\\\\Muqtasid BS Computer Science\\\\SPRING-25\\\\Project\\\\ballinfo\\\\frontend\\\\src\\\\components\\\\news\\\\NewsCard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { formatDistanceToNow } from 'date-fns';\nimport { useSearchParams } from 'react-router-dom';\nimport '../../styles/news/NewsCard.css';\n\n/**\r\n * Highlights search terms in text\r\n * @param {string} text - The text to highlight\r\n * @param {string} searchTerm - The search term to highlight\r\n * @returns {JSX.Element|string} - Highlighted text as JSX or original text\r\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst highlightText = (text, searchTerm) => {\n  if (!searchTerm || !text) return text;\n\n  // Escape special characters in search term for regex\n  const escapedSearchTerm = searchTerm.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n  const regex = new RegExp(`(${escapedSearchTerm})`, 'gi');\n  const parts = text.split(regex);\n  if (parts.length <= 1) return text;\n  return parts.map((part, index) => {\n    if (part.toLowerCase() === searchTerm.toLowerCase()) {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"news-card-highlight\",\n        children: part\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 14\n      }, this);\n    }\n    return part;\n  });\n};\n\n/**\r\n * NewsCard component displays a single news article in card format\r\n * @param {Object} props - Component props\r\n * @param {Object} props.article - The news article data\r\n * @param {boolean} props.featured - Whether this is a featured card (larger)\r\n */\nconst NewsCard = ({\n  article,\n  featured = false\n}) => {\n  _s();\n  var _article$source;\n  const [searchParams] = useSearchParams();\n  const searchQuery = searchParams.get('query');\n  const [imageLoaded, setImageLoaded] = useState(false);\n  const [imageError, setImageError] = useState(false);\n\n  // Handle missing article or data\n  if (!article) return null;\n\n  // Format the date as \"X time ago\"\n  const formattedDate = article.publishedAt ? formatDistanceToNow(new Date(article.publishedAt), {\n    addSuffix: true\n  }) : 'Unknown date';\n\n  // Handle image load event\n  const handleImageLoad = () => {\n    setImageLoaded(true);\n  };\n\n  // Handle image error event\n  const handleImageError = () => {\n    setImageError(true);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `news-card ${featured ? 'news-card-featured' : ''}`,\n    children: /*#__PURE__*/_jsxDEV(Link, {\n      to: `/news/article/${article._id}`,\n      className: \"news-card-link\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"news-card-image\",\n        children: [article.imageUrl && !imageError ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [!imageLoaded && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"news-card-image-placeholder\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"news-card-image-loading\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: article.imageUrl,\n            alt: article.title,\n            loading: \"lazy\",\n            onLoad: handleImageLoad,\n            onError: handleImageError,\n            style: {\n              opacity: imageLoaded ? 1 : 0\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"news-card-image-placeholder\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"La Liga\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"news-card-category\",\n          children: article.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"news-card-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"news-card-title\",\n          children: searchQuery ? highlightText(article.title, searchQuery) : article.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"news-card-summary\",\n          children: searchQuery ? highlightText(article.summary, searchQuery) : article.summary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"news-card-meta\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"news-card-source\",\n            children: ((_article$source = article.source) === null || _article$source === void 0 ? void 0 : _article$source.name) || 'Unknown source'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"news-card-date\",\n            children: formattedDate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), article.tags && article.tags.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"news-card-tags\",\n          children: article.tags.slice(0, 3).map((tag, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"news-card-tag\",\n            children: tag\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(NewsCard, \"mCUU9D5qGwyHe1JL6Si634hQOVU=\", false, function () {\n  return [useSearchParams];\n});\n_c = NewsCard;\nexport default NewsCard;\nvar _c;\n$RefreshReg$(_c, \"NewsCard\");","map":{"version":3,"names":["React","useState","Link","formatDistanceToNow","useSearchParams","jsxDEV","_jsxDEV","Fragment","_Fragment","highlightText","text","searchTerm","escapedSearchTerm","replace","regex","RegExp","parts","split","length","map","part","index","toLowerCase","className","children","fileName","_jsxFileName","lineNumber","columnNumber","NewsCard","article","featured","_s","_article$source","searchParams","searchQuery","get","imageLoaded","setImageLoaded","imageError","setImageError","formattedDate","publishedAt","Date","addSuffix","handleImageLoad","handleImageError","to","_id","imageUrl","src","alt","title","loading","onLoad","onError","style","opacity","category","summary","source","name","tags","slice","tag","_c","$RefreshReg$"],"sources":["E:/Muqtasid BS Computer Science/SPRING-25/Project/ballinfo/frontend/src/components/news/NewsCard.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport '../../styles/news/NewsCard.css';\r\n\r\n/**\r\n * Highlights search terms in text\r\n * @param {string} text - The text to highlight\r\n * @param {string} searchTerm - The search term to highlight\r\n * @returns {JSX.Element|string} - Highlighted text as JSX or original text\r\n */\r\nconst highlightText = (text, searchTerm) => {\r\n  if (!searchTerm || !text) return text;\r\n  \r\n  // Escape special characters in search term for regex\r\n  const escapedSearchTerm = searchTerm.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\r\n  const regex = new RegExp(`(${escapedSearchTerm})`, 'gi');\r\n  \r\n  const parts = text.split(regex);\r\n  \r\n  if (parts.length <= 1) return text;\r\n  \r\n  return parts.map((part, index) => {\r\n    if (part.toLowerCase() === searchTerm.toLowerCase()) {\r\n      return <span key={index} className=\"news-card-highlight\">{part}</span>;\r\n    }\r\n    return part;\r\n  });\r\n};\r\n\r\n/**\r\n * NewsCard component displays a single news article in card format\r\n * @param {Object} props - Component props\r\n * @param {Object} props.article - The news article data\r\n * @param {boolean} props.featured - Whether this is a featured card (larger)\r\n */\r\nconst NewsCard = ({ article, featured = false }) => {\r\n  const [searchParams] = useSearchParams();\r\n  const searchQuery = searchParams.get('query');\r\n  const [imageLoaded, setImageLoaded] = useState(false);\r\n  const [imageError, setImageError] = useState(false);\r\n  \r\n  // Handle missing article or data\r\n  if (!article) return null;\r\n\r\n  // Format the date as \"X time ago\"\r\n  const formattedDate = article.publishedAt\r\n    ? formatDistanceToNow(new Date(article.publishedAt), { addSuffix: true })\r\n    : 'Unknown date';\r\n\r\n  // Handle image load event\r\n  const handleImageLoad = () => {\r\n    setImageLoaded(true);\r\n  };\r\n\r\n  // Handle image error event\r\n  const handleImageError = () => {\r\n    setImageError(true);\r\n  };\r\n\r\n  return (\r\n    <div className={`news-card ${featured ? 'news-card-featured' : ''}`}>\r\n      <Link to={`/news/article/${article._id}`} className=\"news-card-link\">\r\n        <div className=\"news-card-image\">\r\n          {article.imageUrl && !imageError ? (\r\n            <>\r\n              {!imageLoaded && (\r\n                <div className=\"news-card-image-placeholder\">\r\n                  <div className=\"news-card-image-loading\"></div>\r\n                </div>\r\n              )}\r\n              <img \r\n                src={article.imageUrl} \r\n                alt={article.title}\r\n                loading=\"lazy\"\r\n                onLoad={handleImageLoad}\r\n                onError={handleImageError}\r\n                style={{ opacity: imageLoaded ? 1 : 0 }}\r\n              />\r\n            </>\r\n          ) : (\r\n            <div className=\"news-card-image-placeholder\">\r\n              <span>La Liga</span>\r\n            </div>\r\n          )}\r\n          <span className=\"news-card-category\">{article.category}</span>\r\n        </div>\r\n        \r\n        <div className=\"news-card-content\">\r\n          <h3 className=\"news-card-title\">\r\n            {searchQuery ? highlightText(article.title, searchQuery) : article.title}\r\n          </h3>\r\n          <p className=\"news-card-summary\">\r\n            {searchQuery ? highlightText(article.summary, searchQuery) : article.summary}\r\n          </p>\r\n          \r\n          <div className=\"news-card-meta\">\r\n            <div className=\"news-card-source\">\r\n              {article.source?.name || 'Unknown source'}\r\n            </div>\r\n            <div className=\"news-card-date\">{formattedDate}</div>\r\n          </div>\r\n          \r\n          {article.tags && article.tags.length > 0 && (\r\n            <div className=\"news-card-tags\">\r\n              {article.tags.slice(0, 3).map((tag, index) => (\r\n                <span key={index} className=\"news-card-tag\">\r\n                  {tag}\r\n                </span>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewsCard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}